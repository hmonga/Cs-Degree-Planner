// Rutgers Academic Calendar Data
// Comprehensive calendar for 2024-2027 academic years

export const ACADEMIC_CALENDAR = {
  "2024-2025": {
    "fall": {
      "semester": "Fall 2024",
      "startDate": "2024-09-03",
      "endDate": "2024-12-11",
      "events": [
        {
          "name": "Fall Semester Begins",
          "date": "2024-09-03",
          "type": "semester_start"
        },
        {
          "name": "Fall Minicourse Dates First 7 Weeks",
          "startDate": "2024-09-03",
          "endDate": "2024-10-21",
          "type": "minicourse"
        },
        {
          "name": "Fall Minicourse Dates Second 7 Weeks",
          "startDate": "2024-10-22",
          "endDate": "2024-12-11",
          "type": "minicourse"
        },
        {
          "name": "Changes in Designation of Class Days",
          "date": "2024-11-26",
          "description": "Thursday Classes",
          "type": "special"
        },
        {
          "name": "Changes in Designation of Class Days",
          "date": "2024-11-27",
          "description": "Friday Classes",
          "type": "special"
        },
        {
          "name": "Thanksgiving Recess (no classes)",
          "startDate": "2024-11-28",
          "endDate": "2024-12-01",
          "type": "holiday"
        },
        {
          "name": "Regular Classes End",
          "date": "2024-12-11",
          "type": "semester_end"
        },
        {
          "name": "Reading Days (no classes)",
          "startDate": "2024-12-12",
          "endDate": "2024-12-13",
          "type": "reading"
        },
        {
          "name": "Fall Exams",
          "startDate": "2024-12-16",
          "endDate": "2024-12-23",
          "type": "exams"
        }
      ]
    },
    "winter": {
      "name": "Winter Session",
      "startDate": "2024-12-23",
      "endDate": "2025-01-17",
      "type": "session"
    },
    "january": {
      "name": "January Intersession (early January, after the New Year and before spring semester)",
      "startDate": "2025-01-02",
      "endDate": "2025-01-20",
      "type": "intersession"
    },
    "spring": {
      "semester": "Spring 2025",
      "startDate": "2025-01-21",
      "endDate": "2025-05-05",
      "events": [
        {
          "name": "Spring Semester Begins",
          "date": "2025-01-21",
          "type": "semester_start"
        },
        {
          "name": "Spring Minicourse Dates First 7 Weeks",
          "startDate": "2025-01-21",
          "endDate": "2025-03-10",
          "type": "minicourse"
        },
        {
          "name": "Spring Minicourse Dates Second 7 Weeks",
          "startDate": "2025-03-11",
          "endDate": "2025-05-05",
          "type": "minicourse"
        },
        {
          "name": "Spring Recess (no classes)",
          "startDate": "2025-03-15",
          "endDate": "2025-03-23",
          "type": "holiday"
        },
        {
          "name": "Regular Classes End",
          "date": "2025-05-05",
          "type": "semester_end"
        },
        {
          "name": "Spring Reading Days (no classes)",
          "startDate": "2025-05-06",
          "endDate": "2025-05-07",
          "type": "reading"
        },
        {
          "name": "Spring Exams",
          "startDate": "2025-05-08",
          "endDate": "2025-05-14",
          "type": "exams"
        },
        {
          "name": "Rutgersâ€“New Brunswick & Rutgers Health Commencement",
          "date": "2025-05-18",
          "type": "commencement"
        },
        {
          "name": "May Intersession (no classes) (late May, after spring final exams and before summer session)",
          "startDate": "2025-05-15",
          "endDate": "2025-05-26",
          "type": "intersession"
        },
        {
          "name": "Summer Session",
          "startDate": "2025-05-27",
          "endDate": "2025-08-13",
          "type": "session"
        },
        {
          "name": "August Intersession (no classes) (late August, after summer session and before the fall semester)",
          "startDate": "2025-08-14",
          "endDate": "2025-09-01",
          "type": "intersession"
        }
      ]
    }
  },
  "2025-2026": {
    "fall": {
      "semester": "Fall 2025",
      "startDate": "2025-09-02",
      "endDate": "2025-12-10",
      "events": [
        {
          "name": "ðŸ“‹ Spring 2026 Schedule of Courses Available",
          "date": "2025-10-20",
          "description": "Spring 2026 Online Schedule of Courses will be available for viewing and planning",
          "type": "registration"
        },
        {
          "name": "Fall Semester Begins",
          "date": "2025-09-02",
          "type": "semester_start"
        },
        {
          "name": "Fall Minicourse Dates First 7 Weeks",
          "startDate": "2025-09-02",
          "endDate": "2025-10-20",
          "type": "minicourse"
        },
        {
          "name": "Fall Minicourse Dates Second 7 Weeks",
          "startDate": "2025-10-21",
          "endDate": "2025-12-10",
          "type": "minicourse"
        },
        {
          "name": "Changes in Designation of Class Days",
          "date": "2025-11-25",
          "description": "Thursday Classes",
          "type": "special"
        },
        {
          "name": "Changes in Designation of Class Days",
          "date": "2025-11-26",
          "description": "Friday Classes",
          "type": "special"
        },
        {
          "name": "Thanksgiving Recess (no classes)",
          "startDate": "2025-11-27",
          "endDate": "2025-11-30",
          "type": "holiday"
        },
        {
          "name": "Regular Classes End",
          "date": "2025-12-10",
          "type": "semester_end"
        },
        {
          "name": "Reading Days (no classes)",
          "startDate": "2025-12-11",
          "endDate": "2025-12-12",
          "type": "reading"
        },
        {
          "name": "Fall Exams",
          "startDate": "2025-12-15",
          "endDate": "2025-12-22",
          "type": "exams"
        }
      ]
    },
    "winter": {
      "name": "Winter Session",
      "startDate": "2025-12-22",
      "endDate": "2026-01-16",
      "type": "session"
    },
    "january": {
      "name": "January Intersession (early January, after the New Year and before spring semester)",
      "startDate": "2026-01-05",
      "endDate": "2026-01-19",
      "type": "intersession"
    },
    "spring": {
      "semester": "Spring 2026",
      "startDate": "2026-01-20",
      "endDate": "2026-05-04",
      "events": [
        {
          "name": "ðŸš¨ SPRING 2026 REGISTRATION OPENS TODAY",
          "date": "2025-11-03",
          "description": "Priority registration begins for Spring 2026 semester - Don't miss your registration time!",
          "type": "registration"
        },
        {
          "name": "Spring 2026 General Registration Opens",
          "date": "2025-11-10",
          "description": "General registration opens for all students",
          "type": "registration"
        },
        {
          "name": "Spring 2026 Add/Drop Period Begins",
          "date": "2026-01-20",
          "description": "Add/Drop period begins for Spring 2026 semester",
          "type": "registration"
        },
        {
          "name": "Spring 2026 Add/Drop Period Ends",
          "date": "2026-02-03",
          "description": "Last day to add/drop courses for Spring 2026",
          "type": "registration"
        },
        {
          "name": "Spring Semester Begins",
          "date": "2026-01-20",
          "type": "semester_start"
        },
        {
          "name": "Spring Minicourse Dates First 7 Weeks",
          "startDate": "2026-01-20",
          "endDate": "2026-03-09",
          "type": "minicourse"
        },
        {
          "name": "Spring Minicourse Dates Second 7 Weeks",
          "startDate": "2026-03-10",
          "endDate": "2026-05-04",
          "type": "minicourse"
        },
        {
          "name": "Spring Recess (no classes)",
          "startDate": "2026-03-14",
          "endDate": "2026-03-22",
          "type": "holiday"
        },
        {
          "name": "Regular Classes End",
          "date": "2026-05-04",
          "type": "semester_end"
        },
        {
          "name": "Spring Reading Days (no classes)",
          "startDate": "2026-05-05",
          "endDate": "2026-05-06",
          "type": "reading"
        },
        {
          "name": "Spring Exams",
          "startDate": "2026-05-07",
          "endDate": "2026-05-13",
          "type": "exams"
        },
        {
          "name": "Rutgersâ€“New Brunswick & Rutgers Health Commencement",
          "date": "2026-05-17",
          "type": "commencement"
        },
        {
          "name": "May Intersession (no classes) (late May, after spring final exams and before summer session)",
          "startDate": "2026-05-14",
          "endDate": "2026-05-25",
          "type": "intersession"
        },
        {
          "name": "Summer Session",
          "startDate": "2026-05-26",
          "endDate": "2026-08-19",
          "type": "session"
        },
        {
          "name": "August Intersession (no classes) (late August, after summer session and before the fall semester)",
          "startDate": "2026-08-20",
          "endDate": "2026-08-31",
          "type": "intersession"
        }
      ]
    }
  },
  "2026-2027": {
    "fall": {
      "semester": "Fall 2026",
      "startDate": "2026-09-01",
      "endDate": "2026-12-10",
      "events": [
        {
          "name": "Fall Semester Begins",
          "date": "2026-09-01",
          "type": "semester_start"
        },
        {
          "name": "Changes in Designation of Class Days",
          "date": "2026-09-08",
          "description": "Monday Classes",
          "type": "special"
        },
        {
          "name": "Changes in Designation of Class Days",
          "date": "2026-11-25",
          "description": "Friday Classes",
          "type": "special"
        },
        {
          "name": "Thanksgiving Recess (no classes)",
          "startDate": "2026-11-26",
          "endDate": "2026-11-29",
          "type": "holiday"
        },
        {
          "name": "Regular Classes End",
          "date": "2026-12-10",
          "type": "semester_end"
        },
        {
          "name": "Reading Days (no classes)",
          "date": "2026-12-11",
          "type": "reading"
        },
        {
          "name": "Reading Days (no classes)",
          "date": "2026-12-14",
          "type": "reading"
        },
        {
          "name": "Fall Exams",
          "startDate": "2026-12-15",
          "endDate": "2026-12-22",
          "type": "exams"
        }
      ]
    },
    "winter": {
      "name": "Winter Session",
      "startDate": "2026-12-23",
      "endDate": "2027-01-15",
      "type": "session"
    },
    "january": {
      "name": "January Intersession (early January, after the New Year and before spring semester)",
      "startDate": "2027-01-04",
      "endDate": "2027-01-18",
      "type": "intersession"
    },
    "spring": {
      "semester": "Spring 2027",
      "startDate": "2027-01-19",
      "endDate": "2027-05-03",
      "events": [
        {
          "name": "Spring Semester Begins",
          "date": "2027-01-19",
          "type": "semester_start"
        },
        {
          "name": "Spring Recess (no classes)",
          "startDate": "2027-03-13",
          "endDate": "2027-03-21",
          "type": "holiday"
        },
        {
          "name": "Regular Classes End",
          "date": "2027-05-03",
          "type": "semester_end"
        },
        {
          "name": "Spring Reading Days (no classes)",
          "startDate": "2027-05-04",
          "endDate": "2027-05-05",
          "type": "reading"
        },
        {
          "name": "Spring Exams",
          "startDate": "2027-05-06",
          "endDate": "2027-05-12",
          "type": "exams"
        },
        {
          "name": "Rutgersâ€“New Brunswick & Rutgers Health Commencement",
          "date": "2027-05-16",
          "type": "commencement"
        },
        {
          "name": "May Intersession (no classes) (late May, after spring final exams and before summer session)",
          "startDate": "2027-05-13",
          "endDate": "2027-05-24",
          "type": "intersession"
        }
      ]
    }
  }
};

// Helper functions
export const getCurrentAcademicYear = () => {
  const now = new Date();
  const currentYear = now.getFullYear();
  const currentMonth = now.getMonth() + 1; // January is 0
  
  // Academic year starts in September
  if (currentMonth >= 9) {
    return `${currentYear}-${currentYear + 1}`;
  } else {
    return `${currentYear - 1}-${currentYear}`;
  }
};

export const getCurrentSemester = () => {
  const now = new Date();
  const currentMonth = now.getMonth() + 1;
  
  if (currentMonth >= 9 || currentMonth <= 1) {
    return 'fall';
  } else if (currentMonth >= 2 && currentMonth <= 5) {
    return 'spring';
  } else {
    return 'summer';
  }
};

export const getUpcomingEvents = (academicYear, count = 5) => {
  const yearData = ACADEMIC_CALENDAR[academicYear];
  if (!yearData) return [];

  const allEvents = [];
  
  // Collect all events from all semesters
  Object.values(yearData).forEach(semesterData => {
    if (semesterData.events) {
      semesterData.events.forEach(event => {
        allEvents.push({
          ...event,
          semester: semesterData.semester || semesterData.name
        });
      });
    } else if (semesterData.name) {
      allEvents.push({
        name: semesterData.name,
        startDate: semesterData.startDate,
        endDate: semesterData.endDate,
        type: semesterData.type,
        semester: semesterData.name
      });
    }
  });

  // Sort by date
  allEvents.sort((a, b) => {
    const dateA = new Date(a.date || a.startDate);
    const dateB = new Date(b.date || b.startDate);
    return dateA - dateB;
  });

  // Filter future events
  const now = new Date();
  const futureEvents = allEvents.filter(event => {
    const eventDate = new Date(event.date || event.startDate);
    return eventDate > now;
  });

  return futureEvents.slice(0, count);
};

export const getSemesterDates = (academicYear, semester) => {
  const yearData = ACADEMIC_CALENDAR[academicYear];
  if (!yearData || !yearData[semester]) return null;
  
  return {
    startDate: yearData[semester].startDate,
    endDate: yearData[semester].endDate
  };
}; 